@baseUrl = http://localhost:3000
@authToken = YOUR_SESSION_TOKEN_HERE
@bookingId = YOUR_BOOKING_ID_HERE

###
# List all bookings for authenticated user (default pagination)
GET {{baseUrl}}/api/bookings
Authorization: Bearer {{authToken}}

###
# List bookings with pagination
GET {{baseUrl}}/api/bookings?page=1&limit=5
Authorization: Bearer {{authToken}}

###
# Filter bookings by status - pending
GET {{baseUrl}}/api/bookings?status=pending
Authorization: Bearer {{authToken}}

###
# Filter bookings by status - confirmed
GET {{baseUrl}}/api/bookings?status=confirmed
Authorization: Bearer {{authToken}}

###
# Filter bookings by status - cancelled
GET {{baseUrl}}/api/bookings?status=cancelled
Authorization: Bearer {{authToken}}

###
# Filter bookings by status - completed
GET {{baseUrl}}/api/bookings?status=completed
Authorization: Bearer {{authToken}}

###
# Combination: Filter by status with pagination
GET {{baseUrl}}/api/bookings?status=confirmed&page=1&limit=10
Authorization: Bearer {{authToken}}

###
# Test without authentication (should return 401)
GET {{baseUrl}}/api/bookings

###
# Test with invalid status (should return 400)
GET {{baseUrl}}/api/bookings?status=invalid_status
Authorization: Bearer {{authToken}}

###
# Get booking by ID (with full details)
GET {{baseUrl}}/api/bookings/{{bookingId}}
Authorization: Bearer {{authToken}}

###
# Get booking by ID without authentication (should return 401)
GET {{baseUrl}}/api/bookings/{{bookingId}}

###
# Get booking by ID with non-existent ID (should return 404)
GET {{baseUrl}}/api/bookings/non-existent-id-12345
Authorization: Bearer {{authToken}}

###
# Get booking by ID that doesn't belong to user (should return 403 unless admin)
GET {{baseUrl}}/api/bookings/other-users-booking-id
Authorization: Bearer {{authToken}}

###
# Get booking activities (authenticated user)
GET {{baseUrl}}/api/bookings/{{bookingId}}/activities
Authorization: Bearer {{authToken}}

###
# Get booking activities without authentication (should return 401)
GET {{baseUrl}}/api/bookings/{{bookingId}}/activities

###
# Get booking activities for non-existent booking (should return 404)
GET {{baseUrl}}/api/bookings/non-existent-id-12345/activities
Authorization: Bearer {{authToken}}

###
# Get booking activities for booking not owned by user (should return 403 unless admin)
GET {{baseUrl}}/api/bookings/other-users-booking-id/activities
Authorization: Bearer {{authToken}}

###
# ========== MUTATION ENDPOINTS ==========

###
# 1. Create Booking (Package-based)
POST {{baseUrl}}/api/bookings
Content-Type: application/json
Authorization: Bearer {{authToken}}

{
  "packageId": "package_id_here",
  "activityIds": ["activity_id_1", "activity_id_2"],
  "startDate": "2026-02-01T09:00:00Z",
  "endDate": "2026-02-05T18:00:00Z",
  "specialRequests": "Need vegetarian meals",
  "scheduledTimes": {
    "activity_id_1": "2026-02-01T10:00:00Z",
    "activity_id_2": "2026-02-02T14:00:00Z"
  }
}

###
# 2. Create Booking (Custom - no package)
POST {{baseUrl}}/api/bookings
Content-Type: application/json
Authorization: Bearer {{authToken}}

{
  "activityIds": ["activity_id_1", "activity_id_2", "activity_id_3"],
  "startDate": "2026-03-10T09:00:00Z",
  "endDate": "2026-03-15T18:00:00Z",
  "specialRequests": "Wheelchair accessible accommodation needed"
}

###
# 3. Create Booking - Invalid (end date before start date)
POST {{baseUrl}}/api/bookings
Content-Type: application/json
Authorization: Bearer {{authToken}}

{
  "activityIds": ["activity_id_1"],
  "startDate": "2026-02-10T09:00:00Z",
  "endDate": "2026-02-05T18:00:00Z"
}

###
# 4. Update Booking
PATCH {{baseUrl}}/api/bookings/{{bookingId}}
Content-Type: application/json
Authorization: Bearer {{authToken}}

{
  "startDate": "2026-02-02T09:00:00Z",
  "endDate": "2026-02-06T18:00:00Z",
  "specialRequests": "Updated special requests"
}

###
# 5. Update Booking - Only special requests
PATCH {{baseUrl}}/api/bookings/{{bookingId}}
Content-Type: application/json
Authorization: Bearer {{authToken}}

{
  "specialRequests": "Changed my mind on meal preferences"
}

###
# 6. Cancel Booking
PATCH {{baseUrl}}/api/bookings/{{bookingId}}/cancel
Content-Type: application/json
Authorization: Bearer {{authToken}}

###
# 7. Cancel Booking - Already cancelled (should return 400)
PATCH {{baseUrl}}/api/bookings/{{bookingId}}/cancel
Content-Type: application/json
Authorization: Bearer {{authToken}}

###
# 8. Add Activity to Booking
POST {{baseUrl}}/api/bookings/{{bookingId}}/activities
Content-Type: application/json
Authorization: Bearer {{authToken}}

{
  "activityId": "activity_id_here",
  "scheduledAt": "2026-02-03T15:00:00Z"
}

###
# 9. Add Activity to Booking - Without scheduled time
POST {{baseUrl}}/api/bookings/{{bookingId}}/activities
Content-Type: application/json
Authorization: Bearer {{authToken}}

{
  "activityId": "activity_id_here"
}

###
# 10. Update Booking Activity - Change scheduled time
PATCH {{baseUrl}}/api/bookings/{{bookingId}}/activities/activity_id_here
Content-Type: application/json
Authorization: Bearer {{authToken}}

{
  "scheduledAt": "2026-02-03T16:00:00Z"
}

###
# 11. Assign Guide to Activity (Admin only)
PATCH {{baseUrl}}/api/bookings/{{bookingId}}/activities/activity_id_here/guide
Content-Type: application/json
Authorization: Bearer {{authToken}}

{
  "guideId": "guide_id_here"
}

###
# 12. Assign Guide - Invalid guide (should return 404)
PATCH {{baseUrl}}/api/bookings/{{bookingId}}/activities/activity_id_here/guide
Content-Type: application/json
Authorization: Bearer {{authToken}}

{
  "guideId": "non_existent_guide_id"
}

###
# 13. Create Booking - Without authentication (should return 401)
POST {{baseUrl}}/api/bookings
Content-Type: application/json

{
  "activityIds": ["activity_id_1"],
  "startDate": "2026-02-01T09:00:00Z",
  "endDate": "2026-02-05T18:00:00Z"
}

###
# 14. List all payments for a booking (admin only)
GET {{baseUrl}}/api/bookings/{{bookingId}}/payments
Authorization: Bearer {{authToken}}

###
# 15. List payments for non-existent booking (should return 404)
GET {{baseUrl}}/api/bookings/non_existent_booking_id/payments
Authorization: Bearer {{authToken}}

###
# 16. List payments without admin authentication (should return 403)
GET {{baseUrl}}/api/bookings/{{bookingId}}/payments


